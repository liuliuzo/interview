# MySQL中myisam与innodb的区别

MyISAM：
- 不支持事务，但是每次查询都是原子的；
- 支持表级锁，即每次操作对整个表加锁；
- 存储表的总行数；
- 一个MYISAM表有三个文件：索引文件、表结构文件、数据文件；
- 采用非聚集索引，索引文件的数据域存储指向数据文件的指针。辅索引与主索引基本一致，但是辅索引不用保证唯一性。

InnoDb：
- 支持ACID的事务，支持事务的四种隔离级别；
- 支持行级锁及外键约束：因此可以支持写并发；
- 不存储总行数；
- 一个InnoDb引擎存储在一个文件空间（共享表空间，表大小不受操作系统控制，一个表可能分布在多个文件里），也有可能为多个（设置为独立表空，表大小受操作系统文件大小限制，一般为2G），受操作系统文件大小的限制；
- 主键索引采用聚集索引（索引的数据域存储数据文件本身），辅索引的数据域存储主键的值；因此从辅索引查找数据，需要先通过辅索引找到主键值，再访问辅索引；最好使用自增主键，防止插入数据时，为维持B+树结构，文件的大调整。

# Mysql 隔离级别
读未提交：别人改数据的事务尚未提交，我在我的事务中也能读到。
读已提交：别人改数据的事务已经提交，我在我的事务中才能读到。
可重复读：别人改数据的事务已经提交，我在我的事务中也不去读。
串行：我的事务尚未提交，别人就别想改数据。

# 数据库设计三范式 
##第一范式（无重复的列）

定义：数据库表的每一列都是不可分割的原子数据项，而不能是集合，数组，记录等非原子数据项。如果实体中的某个属性有多个值时，必须拆分为不同的属性
通俗解释：一个字段只存储一项信息
eg:班级：高三年1班，应改为2个字段，一个年级、一个班级，才满足第一范式
不满足第一范式
学号	姓名	班级
0001	小红	高三年1班 
改成
学号	姓名	年级	班级
0001	小红	高三年	1班
 
##第二范式（属性完全依赖于主键）

定义：满足第一范式前提，当存在多个主键的时候，才会发生不符合第二范式的情况。

比如有两个主键，不能存在这样的属性，它只依赖于其中一个主键，这就是不符合第二范式 通俗解释：任意一个字段都只依赖表中的同一个字段
eg:比如不符合第二范式
学生证 名称	学生证号	学生证办理时间	借书证名称	借书证号	借书证办理时间

改成2张表如下
学生证表
学生证	学生证号	学生证办理时间 	 	 
借书证表
借书证	借书证号	借书证把你拉时间
 	 	  
##第三范式（属性不能传递依赖于主属性）

定义：满足第二范式前提，如果某一属性依赖于其他非主键属性，而其他非主键属性又依赖于主键，那么这个属性就是间接依赖于主键，这被称作传递依赖于主属性。
通俗理解：一张表最多只存2层同类型信息
eg:爸爸资料表，不满足第三范式
爸爸	儿子	女儿	女儿的小熊	女儿的海绵宝宝

改成
爸爸信息表：
爸爸	儿子	女儿	 	 
女儿信息表
女儿	女儿的小熊	女儿的海绵宝宝
 	 	 
# 分布式数据库
对两个表的查询均需要能够线性。
